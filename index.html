<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add a New Dish Spot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
  <script src="script.js" defer></script>
</head>
<body>
  <main class="page">
    <header class="page-header">
      <h1>Add a new food memory</h1>
      <p>Log a dish you loved (or hated) so future you remembers where to go next time.</p>
    </header>

    <section class="card">
      <form id="dishForm" action="/places" method="post" enctype="multipart/form-data" novalidate>
        <!-- A. Dish + location -->
        <fieldset>
          <legend>Dish & location</legend>

          <div class="field">
            <label for="dishName">Dish name <span class="required">*</span></label>
            <input id="dishName" name="dishName" type="text" required placeholder="Spicy miso ramen">
            <p class="field-hint">What was the main dish or drink you remember?</p>
          </div>

          <div class="inline-fields">
            <div class="field">
              <label for="locationCity">City <span class="required">*</span></label>
              <input id="locationCity" name="locationCity" type="text" required placeholder="Tokyo">
            </div>
            <div class="field">
              <label for="locationCountry">Country <span class="required">*</span></label>
              <select id="locationCountry" name="locationCountry" required>
                <option value="">Select a country</option>
                <option value="Japan">Japan</option>
                <option value="Canada">Canada</option>
                <option value="Thailand">Thailand</option>
                <option value="Vietnam">Vietnam</option>
                <option value="France">France</option>
                <option value="Italy">Italy</option>
                <option value="USA">United States</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>

          <div class="field">
            <label>Place type <span class="required">*</span></label>
            <div class="option-group option-group-pill" role="radiogroup" aria-label="Place type">
              <label class="pill">
                <input type="radio" name="placeType" value="Street Food" required> Street Food
              </label>
              <label class="pill">
                <input type="radio" name="placeType" value="Cafe"> Cafe
              </label>
              <label class="pill">
                <input type="radio" name="placeType" value="Restaurant"> Restaurant
              </label>
            </div>
          </div>
        </fieldset>

        <!-- B. Rating & price -->
        <fieldset>
          <legend>How did it feel?</legend>

          <div class="field">
            <label>Rating <span class="required">*</span></label>
            <div class="star-rating" aria-label="Rating from 1 to 5">
              <!-- radios are visually hidden but still handle validation -->
              <input type="radio" id="rating-5" name="rating" value="5" required>
              <label for="rating-5" title="Amazing">★</label>

              <input type="radio" id="rating-4" name="rating" value="4">
              <label for="rating-4" title="Great">★</label>

              <input type="radio" id="rating-3" name="rating" value="3">
              <label for="rating-3" title="Good">★</label>

              <input type="radio" id="rating-2" name="rating" value="2">
              <label for="rating-2" title="Meh">★</label>

              <input type="radio" id="rating-1" name="rating" value="1">
              <label for="rating-1" title="Never again">★</label>
            </div>
          </div>

          <div class="field">
            <label>Price level</label>
            <div class="option-group option-group-pill" role="radiogroup" aria-label="Price level">
              <label class="pill">
                <input type="radio" name="priceLevel" value="$"> $
              </label>
              <label class="pill">
                <input type="radio" name="priceLevel" value="$$"> $$
              </label>
              <label class="pill">
                <input type="radio" name="priceLevel" value="$$$"> $$$
              </label>
            </div>
          </div>
        </fieldset>

        <!-- C. Tags + date -->
        <fieldset>
          <legend>Context</legend>

          <div class="field">
            <label>Keyword tags</label>
            <div class="option-group option-group-pill">
              <!-- name is KeywordTags to match your schema -->
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="spicy"> Spicy
              </label>
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="sweet"> Sweet
              </label>
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="comfort"> Comfort food
              </label>
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="local"> Local favourite
              </label>
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="instagrammable"> Instagrammable
              </label>
              <label class="pill">
                <input type="checkbox" name="KeywordTags" value="vegetarian"> Vegetarian-friendly
              </label>
            </div>
          </div>

          <div class="field">
            <label for="visitDate">Visit date <span class="required">*</span></label>
            <input id="visitDate" name="visitDate" type="date" required>
          </div>
        </fieldset>

        <!-- D. Notes + photo -->
        <fieldset>
          <legend>Notes & photo</legend>

          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" name="notes" placeholder="What stood out? Flavour, vibe, service, company..."></textarea>
            <div class="char-counter" aria-live="polite">
              <span id="notesCount">0</span>/500
            </div>
          </div>

          <div class="field">
            <label for="photoUrl">Add a photo (optional)</label>
            <input id="photoUrl" name="photoUrl" type="file" accept="image/*">
            <div id="photoPreviewWrapper" class="photo-preview-wrapper" hidden>
              <p class="field-hint">Preview</p>
              <img id="photoPreview" alt="Selected dish photo preview">
            </div>
          </div>
        </fieldset>

        <div class="form-footer">
          <button type="submit" class="primary-btn">Save dish</button>
          <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
        </div>
      </form>
    </section>

    <!-- ========================= -->
<!--  SAVED DISHES APPEAR HERE -->
<!-- ========================= -->
<section class="card">
  <h2>Saved dishes</h2>
  <div id="placesList" class="places-list">
    <p>Loading your food memories...</p>
  </div>
</section>

  </main>
</body>
</html>
